{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const renderImages = (images) => {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = ''; // Очистить старые изображения перед новым запросом\n\n  console.log('Изображения для отображения:', images); // Логируем изображения\n\n  if (images.length === 0) {\n    gallery.innerHTML = '<p>No images found</p>';\n    return;\n  }\n\n  // Строим строки HTML для всех изображений\n  const cards = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `\n      <div class=\"card\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags || 'Image'}\" />\n        </a>\n        <p>Likes: ${likes} | Views: ${views} | Comments: ${comments} | Downloads: ${downloads}</p>\n      </div>\n    `;\n  }).join(''); // Преобразуем массив строк в одну строку\n\n  // Вставляем все карточки в галерею\n  gallery.insertAdjacentHTML('beforeend', cards);\n};\n\n// Функция для получения изображений из API\nexport const fetchImages = async (query) => {\n  const API_KEY = '47502659-8e710eb0ff3e952458316b5b2';\n  const BASE_URL = 'https://pixabay.com/api/';\n\n  try {\n    const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n    console.log('Запрос к API:', url); // Логируем URL запроса\n\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      throw new Error(`Ошибка при получении данных: ${response.statusText}`);\n    }\n\n    const data = await response.json();\n    console.log('Полученные данные:', data); // Логируем полученные данные\n\n    if (!data.hits || data.hits.length === 0) {\n      throw new Error('No images found');\n    }\n\n    return data.hits; // Возвращаем массив с изображениями\n  } catch (error) {\n    console.error(error);\n    return []; // Возвращаем пустой массив в случае ошибки\n  }\n};\n","export const renderImages = (images) => {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = ''; // Очистить старые изображения перед новым запросом\n\n  console.log('Изображения для отображения:', images); // Логируем изображения\n\n  if (images.length === 0) {\n    gallery.innerHTML = '<p>No images found</p>';\n    return;\n  }\n\n  // Строим строки HTML для всех изображений\n  const cards = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `\n      <div class=\"card\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags || 'Image'}\" />\n        </a>\n        <p>Likes: ${likes} | Views: ${views} | Comments: ${comments} | Downloads: ${downloads}</p>\n      </div>\n    `;\n  }).join(''); // Преобразуем массив строк в одну строку\n\n  // Вставляем все карточки в галерею\n  gallery.insertAdjacentHTML('beforeend', cards);\n};\n","import { fetchImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'bootstrap';\n\n\nconst searchForm = document.querySelector('#search-form');\nconst searchInput = document.querySelector('.search-input');\nconst gallery = document.querySelector('.gallery');\n\n// Проверяем, существует ли форма перед добавлением обработчика события\nif (searchForm) {\n  searchForm.addEventListener('submit', async (event) => {\n    event.preventDefault(); // Предотвращает обновление страницы при отправке формы.\n\n    const query = searchInput.value.trim(); // Получаем строку запроса\n\n    if (!query) {\n      iziToast.error({ message: 'Please enter a search term' });\n      return;\n    }\n\n    // Создаем и показываем индикатор загрузки\n    const loader = document.createElement('div');\n    loader.classList.add('loader');\n    loader.textContent = 'Loading...';\n    gallery.innerHTML = ''; // Очищаем галерею перед загрузкой\n    gallery.appendChild(loader);\n\n    try {\n      const images = await fetchImages(query); // Запрашиваем изображения по введенному запросу\n\n      if (images.length === 0) {\n        iziToast.info({ message: 'Sorry, there are no images matching your search query. Please try again!' });\n      } else {\n        renderImages(images); // Отображаем изображения\n        new SimpleLightbox('.gallery a'); // Инициализация SimpleLightbox для галереи\n      }\n    } catch (error) {\n      iziToast.error({ message: 'Something went wrong, please try again!' });\n    } finally {\n      // Убираем индикатор загрузки\n      if (loader) loader.remove();\n    }\n  });\n} else {\n  console.log('Элемент с id \"search-form\" не найден');\n}\n\n// Обработчик события на нажатие кнопки \"Load more\"\ndocument.querySelector('.load-more').addEventListener('click', async () => {\n  const query = searchInput.value.trim(); // Получаем строку запроса\n\n  if (!query) {\n    iziToast.error({ message: 'Please enter a search term' });\n    return;\n  }\n\n  // Создаем и показываем индикатор загрузки\n  const loader = document.createElement('div');\n  loader.classList.add('loader');\n  loader.textContent = 'Loading...';\n  gallery.appendChild(loader);\n\n  try {\n    const images = await fetchImages(query); // Запрашиваем изображения по введенному запросу\n\n    if (images.length === 0) {\n      iziToast.info({ message: 'Sorry, there are no images matching your search query. Please try again!' });\n    } else {\n      renderImages(images); // Отображаем изображения\n      new SimpleLightbox('.gallery a'); // Инициализация SimpleLightbox для галереи\n    }\n  } catch (error) {\n    iziToast.error({ message: 'Something went wrong, please try again!' });\n  } finally {\n    // Убираем индикатор загрузки\n    const loader = document.querySelector('.loader');\n    if (loader) loader.remove();\n  }\n});\n"],"names":["fetchImages","query","API_KEY","BASE_URL","url","response","data","error","renderImages","images","gallery","cards","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","searchInput","event","iziToast","loader","SimpleLightbox"],"mappings":"6vBA4BO,MAAMA,EAAc,MAAOC,GAAU,CAC1C,MAAMC,EAAU,qCACVC,EAAW,2BAEjB,GAAI,CACF,MAAMC,EAAM,GAAGD,CAAQ,QAAQD,CAAO,MAAMD,CAAK,2DACjD,QAAQ,IAAI,gBAAiBG,CAAG,EAEhC,MAAMC,EAAW,MAAM,MAAMD,CAAG,EAEhC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,gCAAgCA,EAAS,UAAU,EAAE,EAGvE,MAAMC,EAAO,MAAMD,EAAS,OAG5B,GAFA,QAAQ,IAAI,qBAAsBC,CAAI,EAElC,CAACA,EAAK,MAAQA,EAAK,KAAK,SAAW,EACrC,MAAM,IAAI,MAAM,iBAAiB,EAGnC,OAAOA,EAAK,IACb,OAAQC,EAAO,CACd,eAAQ,MAAMA,CAAK,EACZ,EACR,CACH,ECtDaC,EAAgBC,GAAW,CACtC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAKjD,GAJAA,EAAQ,UAAY,GAEpB,QAAQ,IAAI,+BAAgCD,CAAM,EAE9CA,EAAO,SAAW,EAAG,CACvBC,EAAQ,UAAY,yBACpB,MACD,CAGD,MAAMC,EAAQF,EAAO,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACvF;AAAA;AAAA,mBAEQL,CAAa;AAAA,sBACVD,CAAY,UAAUE,GAAQ,OAAO;AAAA;AAAA,oBAEvCC,CAAK,aAAaC,CAAK,gBAAgBC,CAAQ,iBAAiBC,CAAS;AAAA;AAAA,KAG1F,EAAE,KAAK,EAAE,EAGVR,EAAQ,mBAAmB,YAAaC,CAAK,CAC/C,EChBMQ,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,eAAe,EACpDV,EAAU,SAAS,cAAc,UAAU,EAG7CS,EACFA,EAAW,iBAAiB,SAAU,MAAOE,GAAU,CACrDA,EAAM,eAAc,EAEpB,MAAMpB,EAAQmB,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACnB,EAAO,CACVqB,EAAS,MAAM,CAAE,QAAS,4BAA8B,CAAA,EACxD,MACD,CAGD,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,YAAc,aACrBb,EAAQ,UAAY,GACpBA,EAAQ,YAAYa,CAAM,EAE1B,GAAI,CACF,MAAMd,EAAS,MAAMT,EAAYC,CAAK,EAElCQ,EAAO,SAAW,EACpBa,EAAS,KAAK,CAAE,QAAS,0EAA4E,CAAA,GAErGd,EAAaC,CAAM,EACnB,IAAIe,EAAe,YAAY,EAElC,MAAe,CACdF,EAAS,MAAM,CAAE,QAAS,yCAA2C,CAAA,CAC3E,QAAc,CAEJC,GAAQA,EAAO,QACpB,CACL,CAAG,EAED,QAAQ,IAAI,sCAAsC,EAIpD,SAAS,cAAc,YAAY,EAAE,iBAAiB,QAAS,SAAY,CACzE,MAAMtB,EAAQmB,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACnB,EAAO,CACVqB,EAAS,MAAM,CAAE,QAAS,4BAA8B,CAAA,EACxD,MACD,CAGD,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,YAAc,aACrBb,EAAQ,YAAYa,CAAM,EAE1B,GAAI,CACF,MAAMd,EAAS,MAAMT,EAAYC,CAAK,EAElCQ,EAAO,SAAW,EACpBa,EAAS,KAAK,CAAE,QAAS,0EAA4E,CAAA,GAErGd,EAAaC,CAAM,EACnB,IAAIe,EAAe,YAAY,EAElC,MAAe,CACdF,EAAS,MAAM,CAAE,QAAS,yCAA2C,CAAA,CACzE,QAAY,CAER,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,GAAQA,EAAO,QACpB,CACH,CAAC"}